<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="css/main.css" type="text/css" />
    <script src="../closure/goog/base.js" type="text/javascript"></script>
    <script src="js/QueryString.js" type="text/javascript"></script>
    <script>
    (function(d){
        var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement('script'); js.id = id; js.async = true;
        js.src = "//connect.facebook.net/en_US/all.js";
        ref.parentNode.insertBefore(js, ref);
      }(document));

     // Init the SDK upon load
     window.fbAsyncInit = function() {
       FB.init({
         appId      : '409286079118102',
         channelUrl : '//'+window.location.hostname+window.location.port+'/channel',
         status     : true,
         cookie     : true,
         xfbml      : true
       });

       FB.getLoginStatus(function(response) {
         if (response.status === 'connected') {
           window.location.href = './#accessToken=' + response.authResponse.accessToken;
         } else if (response.status === 'not_authorized') {
           document.getElementById('content').style.display = 'block';
         } else {
           document.getElementById('content').style.display = 'block';
         }
       });

       // listen for and handle auth.statusChange events
       FB.Event.subscribe('auth.statusChange', function(response) {
         if (response.authResponse) {
           window.location.href = './#accessToken=' + response.authResponse.accessToken;
         } else {
           document.getElementById('content').style.display = 'block';
         }
       });
      };
    </script>
  </head>
  <body>
    <div class="title"><span class="dot">dot</span>product</div>
    <div class="content" id="content" style="display:none">
      <div class="signin">Sign in with Facebook</div>
      <div class="fb-login-button"></div>
    </div>
  </body>
</html>